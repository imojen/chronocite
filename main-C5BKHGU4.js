import{$ as K,A as f,B as ie,C as S,D as w,E as r,F as a,G as m,H as B,I as b,J as p,K as l,L as x,M as _,O as v,P as D,Q as y,R as fe,T as j,U as A,V as P,W as ge,X as ue,Y as he,Z as N,_ as V,a as I,aa as T,b as te,ba as L,c as re,d as ae,f as G,g as se,i as le,j as M,k as O,l as ce,m as pe,o as s,p as u,q as C,s as de,t as h,v as ne,w as q,x as F,y as $,z as me}from"./chunk-ADU4J3S6.js";var Y=class i{constructor(t,e){this.notificationService=t;this.gameService=e;this.availableUpgrades$=this.notificationService.availableUpgradesCount$}availableUpgrades$;ngOnInit(){}saveGame(){this.gameService.saveGame()}resetGame(){confirm("\xCAtes-vous s\xFBr de vouloir r\xE9initialiser le jeu ?")&&(this.gameService.resetGame(),this.notificationService.show("Jeu r\xE9initialis\xE9","info"))}static \u0275fac=function(e){return new(e||i)(u(V),u(T))};static \u0275cmp=C({type:i,selectors:[["app-game-menu"]],decls:6,vars:0,consts:[[1,"menu"],[1,"menu-actions"],[1,"action-button",3,"click"],[1,"action-button","warning",3,"click"]],template:function(e,n){e&1&&(r(0,"nav",0)(1,"div",1)(2,"button",2),b("click",function(){return n.saveGame()}),l(3,"Sauvegarder"),a(),r(4,"button",3),b("click",function(){return n.resetGame()}),l(5," R\xE9initialiser "),a()()())},dependencies:[P,N],styles:[".menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:.5rem}.menu-items[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;color:#fff;text-decoration:none;border-radius:4px;transition:background-color .2s;position:relative}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-item.active[_ngcontent-%COMP%]{background:#4facfe}.badge[_ngcontent-%COMP%]{position:absolute;top:50%;right:1rem;transform:translateY(-50%);background:#f44336;color:#fff;border-radius:50%;padding:.2rem .5rem;font-size:.8rem;min-width:20px;text-align:center}.menu-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:1.5rem;padding:.4rem 0;border-top:1px solid rgba(255,255,255,.1)}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem;border:none;background:transparent;color:#4facfe80;cursor:pointer;transition:all .2s;font-size:.75rem}.action-button[_ngcontent-%COMP%]:hover{color:#4facfe}.action-button.warning[_ngcontent-%COMP%]{background:transparent;color:#f4433699}.action-button.warning[_ngcontent-%COMP%]:hover{color:#f44336}"]})};var H=class i{transform(t){if(t===0)return"0";let e=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc"],n=Math.floor(Math.log10(Math.abs(t))/3);if(n<0)return t.toFixed(2);if(n>=e.length)return t.toExponential(2);let o=e[n];return(t/Math.pow(1e3,n)).toFixed(2)+o}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=de({name:"numberFormat",type:i,pure:!0})};var oe={chronos_production:{id:"chronos_production",name:"Production",description:"Augmente la production et l'efficacit\xE9 des ressources temporelles",color:"#4facfe",skills:[{id:"temporal_mastery",name:"Ma\xEEtrise Temporelle",description:"Ma\xEEtrisez les flux temporels pour augmenter la production globale de 25%. Cette comp\xE9tence fondamentale amplifie tous les aspects de votre empire temporel, cr\xE9ant une r\xE9sonance qui am\xE9liore chaque g\xE9n\xE9rateur, acc\xE9l\xE9rateur et compresseur.",branch:"chronos_production",cost:2,effects:[{type:"production",value:.25,description:"+25% de production globale pour toutes les structures"}],icon:"clock",position:{x:0,y:0},unlocked:!0,purchased:!1},{id:"generator_expertise",name:"Expertise des G\xE9n\xE9rateurs",description:"Perfectionnez vos g\xE9n\xE9rateurs temporels pour doubler leur efficacit\xE9. Une ma\xEEtrise approfondie des m\xE9canismes de g\xE9n\xE9ration permet d'exploiter les failles temporelles avec une pr\xE9cision chirurgicale, maximisant le rendement de chaque g\xE9n\xE9rateur.",branch:"chronos_production",cost:3,effects:[{type:"production",value:1,target:"generator",description:"+100% de production pour les g\xE9n\xE9rateurs | Doublement de leur efficacit\xE9 de base"}],icon:"industry",position:{x:1,y:1},requirements:{skills:["temporal_mastery"]},unlocked:!1,purchased:!1},{id:"accelerator_mastery",name:"Ma\xEEtrise des Acc\xE9l\xE9rateurs",description:"Optimisez vos acc\xE9l\xE9rateurs temporels pour doubler leur puissance. Une compr\xE9hension avanc\xE9e des principes d'acc\xE9l\xE9ration temporelle permet de manipuler le temps lui-m\xEAme, cr\xE9ant des poches de temps acc\xE9l\xE9r\xE9 o\xF9 la production s'intensifie exponentiellement.",branch:"chronos_production",cost:3,effects:[{type:"production",value:1,target:"accelerator",description:"+100% de production pour les acc\xE9l\xE9rateurs | Am\xE9lioration significative de la vitesse de production"}],icon:"bolt",position:{x:2,y:1},requirements:{skills:["generator_expertise"]},unlocked:!1,purchased:!1},{id:"quantum_efficiency",name:"Efficacit\xE9 Quantique",description:"Exploitez les principes de la m\xE9canique quantique pour am\xE9liorer vos compresseurs temporels de 50%. Cette technologie de pointe permet de manipuler la structure m\xEAme du temps, cr\xE9ant des zones de compression ultra-efficaces o\xF9 les lois de la physique classique ne s'appliquent plus.",branch:"chronos_production",cost:5,effects:[{type:"production",value:.5,target:"time_compressor",description:"+50% d'efficacit\xE9 pour les compresseurs | Am\xE9lioration de la compression temporelle"}],icon:"compress",position:{x:3,y:2},requirements:{skills:["accelerator_mastery"]},unlocked:!1,purchased:!1}]},economic_management:{id:"economic_management",name:"\xC9conomie",description:"Optimise les co\xFBts et la gestion des ressources",color:"#00f2fe",skills:[{id:"cost_reduction",name:"R\xE9duction des Co\xFBts",description:"R\xE9duit le co\xFBt de tous les b\xE2timents de 20%",branch:"economic_management",cost:2,effects:[{type:"cost",value:.2,description:"-20% sur le co\xFBt des b\xE2timents"}],icon:"coins",position:{x:0,y:0},unlocked:!0,purchased:!1},{id:"efficient_construction",name:"Construction Efficace",description:"R\xE9duit la progression des co\xFBts de 15%",branch:"economic_management",cost:4,effects:[{type:"special",value:.15,description:"-15% sur la progression des co\xFBts"}],icon:"building",position:{x:1,y:1},requirements:{skills:["cost_reduction"]},unlocked:!1,purchased:!1},{id:"bulk_purchasing",name:"Achat en Masse",description:"L'achat multiple de b\xE2timents est plus efficace",branch:"economic_management",cost:5,effects:[{type:"special",value:1,description:"Am\xE9liore l'efficacit\xE9 des achats multiples"}],icon:"shopping-cart",position:{x:2,y:1},requirements:{skills:["efficient_construction"]},unlocked:!1,purchased:!1},{id:"economic_mastery",name:"Ma\xEEtrise \xC9conomique",description:"Les b\xE2timents produisent 10% de ressources suppl\xE9mentaires pour chaque niveau de r\xE9duction de co\xFBt",branch:"economic_management",cost:7,effects:[{type:"special",value:.1,description:"+10% de production par niveau de r\xE9duction de co\xFBt"}],icon:"chart-line",position:{x:3,y:2},requirements:{skills:["bulk_purchasing"]},unlocked:!1,purchased:!1}]},exploration:{id:"exploration",name:"Savoir",description:"D\xE9bloque de nouvelles m\xE9caniques et opportunit\xE9s",color:"#ffd700",skills:[{id:"knowledge_mastery",name:"Ma\xEEtrise du Savoir",description:"Augmente le gain de savoir temporel de 50%",branch:"exploration",cost:3,effects:[{type:"special",value:.5,description:"+50% de gain de savoir temporel"}],icon:"graduation-cap",position:{x:0,y:0},unlocked:!0,purchased:!1},{id:"cycle_optimization",name:"Optimisation des Cycles",description:"Augmente les points de prestige gagn\xE9s de 25%",branch:"exploration",cost:4,effects:[{type:"special",value:.25,description:"+25% de points de prestige par cycle"}],icon:"sync",position:{x:1,y:1},requirements:{skills:["knowledge_mastery"]},unlocked:!1,purchased:!1},{id:"temporal_insight",name:"Vision Temporelle",description:"Affiche des indicateurs de progression optimale",branch:"exploration",cost:3,effects:[{type:"special",value:1,description:"D\xE9bloque des indicateurs de progression"}],icon:"chart-line",position:{x:2,y:1},requirements:{skills:["cycle_optimization"]},unlocked:!1,purchased:!1},{id:"prestige_mastery",name:"Ma\xEEtrise du Prestige",description:"Les bonus de prestige sont 50% plus efficaces",branch:"exploration",cost:6,effects:[{type:"special",value:.5,description:"+50% d'efficacit\xE9 des bonus de prestige"}],icon:"crown",position:{x:3,y:2},requirements:{skills:["temporal_insight"]},unlocked:!1,purchased:!1}]}};var Z=class i{constructor(t){this.gameService=t;this.initializeSkills()}skillBranches=new ae(oe);initializeSkills(){let t=this.gameService.getGameState(),e=I({},oe);Object.values(e).forEach(n=>{n.skills.forEach(o=>{o.position.x===0&&o.position.y===0?o.unlocked=!0:o.unlocked=!1,o.purchased=!1})}),t.skills&&Object.entries(t.skills).forEach(([n,o])=>{for(let c of Object.values(e)){let d=c.skills.find(g=>g.id===n);d&&(d.unlocked=o.unlocked,d.purchased=o.purchased,d.purchased&&c.skills.forEach(g=>{g.requirements?.skills?.includes(n)&&(g.unlocked=!0)}))}}),this.skillBranches.next(e)}getSkillBranches(){return this.skillBranches.asObservable()}getSkill(t){return this.skillBranches.pipe(G(e=>{for(let n of Object.values(e)){let o=n.skills.find(c=>c.id===t);if(o)return o}}))}canPurchaseSkill(t){let e=this.skillBranches.value,n,o;for(let d of Object.values(e))if(n=d.skills.find(g=>g.id===t),n){o=d;break}return!(!n||!o||n.purchased||!n.unlocked||this.gameService.getGameState().resources.prestigePoints<n.cost||n.requirements?.skills&&!n.requirements.skills.every(g=>{if(o?.skills.find(k=>k.id===g)?.purchased)return!0;for(let k of Object.values(e)){if(k.id===o?.id)continue;if(k.skills.find(xe=>xe.id===g)?.purchased)return!0}return!1}))}purchaseSkill(t){if(!this.canPurchaseSkill(t))return!1;let e=I({},this.skillBranches.value),n;for(let g of Object.values(e)){let E=g.skills.find(k=>k.id===t);if(E){E.purchased=!0,n=E,g.skills.forEach(k=>{k.requirements?.skills?.includes(t)&&(k.unlocked=!0)});break}}if(!n)return!1;this.gameService.spendPrestigePoints(n.cost),this.applySkillEffects(n);let o=this.gameService.getGameState(),c=te(I({},o.skills),{[t]:{unlocked:!0,purchased:!0}}),d=te(I({},o),{skills:c});return this.gameService.updateGameState(d),this.skillBranches.next(e),this.gameService.saveGame(),!0}applySkillEffects(t){let e=this.gameService.getGameState();t.effects.forEach(n=>{switch(n.type){case"production":n.target?this.gameService.addBuildingMultiplier(n.target,n.value):this.gameService.addGlobalMultiplier(n.value);break;case"cost":this.gameService.addCostMultiplier(n.value);break;case"tick_rate":this.gameService.addTickRateMultiplier(n.value);break;case"special":switch(t.id){case"knowledge_mastery":break;case"cycle_optimization":break;case"temporal_insight":break;case"bulk_purchasing":break}break}}),this.gameService.saveGame()}static \u0275fac=function(e){return new(e||i)(le(T))};static \u0275prov=se({token:i,factory:i.\u0275fac,providedIn:"root"})};var _e=(i,t)=>t.id,Oe=(i,t)=>t.type;function ye(i,t){if(i&1&&m(0,"div",25),i&2){let e=t.$implicit,n=p(4);F("active",n.isSkillPurchased(e))}}function Se(i,t){if(i&1&&S(0,ye,1,2,"div",24,ie),i&2){let e=p().$implicit,n=p(2);w(n.getRequirementSkills(e))}}function we(i,t){i&1&&(r(0,"div",17),m(1,"i",26),a())}function Te(i,t){if(i&1&&(r(0,"div",27),l(1),v(2,"number"),a()),i&2){let e=p().$implicit,n=p(2);F("affordable",n.canAffordSkill(e)),s(),_(" ",y(2,3,e.cost,"1.0-0")," points de prestige ")}}function Ee(i,t){if(i&1&&(r(0,"div",28),l(1),a()),i&2){let e=t.$implicit;s(),_(" ",e.description," ")}}function Be(i,t){if(i&1&&(r(0,"div",22),S(1,Ee,2,1,"div",28,Oe),a()),i&2){let e=p().$implicit;s(),w(e.effects)}}function De(i,t){if(i&1&&(r(0,"li"),l(1),a()),i&2){let e=t.$implicit,n=p(4);F("met",n.isSkillPurchased(e)),s(),_(" ",n.getSkillName(e)," ")}}function Re(i,t){if(i&1&&(r(0,"div",23)(1,"h5"),l(2,"Pr\xE9requis :"),a(),r(3,"ul"),S(4,De,2,3,"li",29,ie),a()()),i&2){let e=p().$implicit,n=p(2);s(4),w(n.getRequirementSkills(e))}}function qe(i,t){if(i&1){let e=B();r(0,"div",14),b("click",function(){let o=M(e).$implicit,c=p(2);return O(c.purchaseSkill(o.id))})("mousemove",function(o){M(e);let c=p(2);return O(c.updateTooltipPosition(o))}),r(1,"div",15),h(2,Se,2,0),a(),r(3,"div",16),m(4,"i"),a(),h(5,we,2,0,"div",17),r(6,"div",18)(7,"div",19)(8,"h4"),l(9),a(),h(10,Te,3,6,"div",20),a(),r(11,"p",21),l(12),a(),h(13,Be,3,0,"div",22)(14,Re,6,0,"div",23),a()()}if(i&2){let e=t.$implicit,n=p(2);q("--node-x",e.position.x)("--node-y",e.position.y),F("unlocked",e.unlocked)("purchased",e.purchased)("available",n.isSkillAvailable(e)),s(2),f(n.hasRequirements(e)&&e.id!=="endgame"?2:-1),s(),F("pulse",n.isSkillAvailable(e)),s(),me("fas fa-",e.icon,""),s(),f(e.purchased?5:-1),s(4),x(e.name),s(),f(e.purchased?-1:10),s(2),x(e.description),s(),f(e.effects.length>0?13:-1),s(),f(n.hasRequirements(e)?14:-1)}}function Fe(i,t){if(i&1&&(r(0,"div",10)(1,"div",11)(2,"h3"),l(3),a()(),r(4,"div",12),S(5,qe,15,22,"div",13,_e),a()()),i&2){let e=t.$implicit;q("--branch-color",e.color),s(3),x(e.name),s(2),w(e.skills)}}var Q=class i{constructor(t,e,n){this.skillService=t;this.gameService=e;this.dialogService=n;this.branches$=this.skillService.getSkillBranches().pipe(G(o=>(this.skillBranchesValue=o,Object.values(o)))),this.prestigePoints$=this.gameService.getPrestigePoints$()}closeModal=new ce;branches$;prestigePoints$;skillBranchesValue=null;ngOnInit(){}close(t){(t.target.classList.contains("overlay")||t.target.classList.contains("close-button"))&&this.closeModal.emit()}purchaseSkill(t){return re(this,null,function*(){let e=this.findSkill(t);if(!e)return;if(!this.canAffordSkill(e)){let o=this.gameService.getGameState().resources.prestigePoints,c=e.cost-o;yield this.dialogService.confirm({title:"Points insuffisants",message:`Il vous manque ${c} points de prestige pour d\xE9bloquer cette comp\xE9tence.`,confirmText:"OK",type:"warning"});return}(yield this.dialogService.confirm({title:"Confirmer l'achat",message:`Voulez-vous d\xE9bloquer "${e.name}" pour ${e.cost} points de prestige ?`,confirmText:"D\xE9bloquer",cancelText:"Annuler",type:"info"}))&&this.skillService.purchaseSkill(t)})}findSkill(t){if(!this.skillBranchesValue)return null;for(let e of Object.values(this.skillBranchesValue)){let n=e.skills.find(o=>o.id===t);if(n)return n}return null}isSkillPurchased(t){if(!this.skillBranchesValue)return!1;for(let e of Object.values(this.skillBranchesValue))if(e.skills.find(o=>o.id===t)?.purchased)return!0;return!1}getSkillName(t){if(!this.skillBranchesValue)return t;for(let e of Object.values(this.skillBranchesValue)){let n=e.skills.find(o=>o.id===t);if(n)return n.name}return t}hasRequirements(t){return t?.requirements?.skills?t.requirements.skills.length>0:!1}getRequirementSkills(t){return t?.requirements?.skills?t.requirements.skills:[]}isSkillAvailable(t){return t.unlocked&&!t.purchased&&this.canAffordSkill(t)&&this.areRequirementsMet(t)}canAffordSkill(t){return this.gameService.getGameState().resources.prestigePoints>=t.cost}areRequirementsMet(t){return t.requirements?.skills?t.requirements.skills.every(e=>this.isSkillPurchased(e)):!0}updateTooltipPosition(t){let e=t.currentTarget;if(!e)return;let n=e.getBoundingClientRect(),o=n.left+n.width,c=n.top+n.height/2;e.style.setProperty("--tooltip-x",`${o}px`),e.style.setProperty("--tooltip-y",`${c}px`),e.closest(".skill-branch:last-child")!==null&&e.style.setProperty("--tooltip-x",`${n.left}px`)}static \u0275fac=function(e){return new(e||i)(u(Z),u(T),u(L))};static \u0275cmp=C({type:i,selectors:[["app-skill-tree"]],outputs:{closeModal:"closeModal"},decls:18,vars:8,consts:[[1,"overlay",3,"click"],[1,"modal-container"],[1,"modal-header"],[1,"header-content"],[1,"prestige-points"],[1,"fas","fa-star"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"skill-tree-container"],[1,"skill-branch",3,"--branch-color"],[1,"skill-branch"],[1,"branch-header"],[1,"skills-grid"],[1,"skill-node",3,"unlocked","purchased","available","--node-x","--node-y"],[1,"skill-node",3,"click","mousemove"],[1,"node-connections"],[1,"skill-icon"],[1,"skill-check"],[1,"skill-tooltip"],[1,"tooltip-header"],[1,"tooltip-cost",3,"affordable"],[1,"tooltip-description"],[1,"tooltip-effects"],[1,"tooltip-requirements"],[1,"connection-line",3,"active"],[1,"connection-line"],[1,"fas","fa-check"],[1,"tooltip-cost"],[1,"effect"],[3,"met"]],template:function(e,n){e&1&&(r(0,"div",0),b("click",function(c){return n.close(c)}),r(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),l(5,"Arbre de comp\xE9tences"),a(),r(6,"div",4),m(7,"i",5),l(8),v(9,"async"),v(10,"number"),a()(),r(11,"button",6),b("click",function(c){return n.close(c)}),l(12,"\xD7"),a()(),r(13,"div",7)(14,"div",8),S(15,Fe,7,3,"div",9,_e),v(17,"async"),a()()()()),e&2&&(s(8),_(" ",y(10,3,D(9,1,n.prestigePoints$),"1.0-0")," points de prestige "),s(7),w(D(17,6,n.branches$)))},dependencies:[P,j,A],styles:['.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#0d1117f2;border-radius:12px;width:95%;height:95%;max-width:1500px;position:relative;display:flex;flex-direction:column;border:1px solid rgba(255,255,255,.1);overflow:visible}.modal-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;gap:1rem}.header-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:2rem}h2[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.6rem;font-weight:600;text-transform:uppercase;letter-spacing:2px}.prestige-points[_ngcontent-%COMP%]{color:gold;font-size:1.1rem;display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffd7001a;border-radius:4px;border:1px solid rgba(255,215,0,.2)}.prestige-points[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.close-button[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff9;font-size:1.5rem;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s ease;flex-shrink:0}.close-button[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.modal-content[_ngcontent-%COMP%]{flex:1;overflow:visible;padding:2rem;background:radial-gradient(circle at center,#1e283280,#0a0f1480)}.skill-tree-container[_ngcontent-%COMP%]{display:flex;gap:4rem;justify-content:center;min-height:100%;padding:2rem}.skill-branch[_ngcontent-%COMP%]{position:relative;width:300px}.branch-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.branch-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--branch-color);font-size:1.4rem;text-transform:uppercase;letter-spacing:2px;text-shadow:0 0 10px var(--branch-color)}.skills-grid[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:1fr;gap:3rem;align-items:center}.skill-node[_ngcontent-%COMP%]{width:60px;height:69px;margin:0 auto;cursor:pointer;opacity:.5;transition:all .3s ease;filter:grayscale(1) brightness(.3);position:relative;z-index:100}.skill-node[_ngcontent-%COMP%]:hover{z-index:100}.skill-node.unlocked[_ngcontent-%COMP%], .skill-node.available[_ngcontent-%COMP%]{opacity:1;filter:grayscale(0) brightness(1)}.skill-node.available[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{box-shadow:0 0 20px var(--branch-color)}.skill-node.available[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:before{opacity:.4}.skill-node.available[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:after{opacity:.6;filter:blur(3px)}.skill-node.available[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1;filter:drop-shadow(0 0 12px var(--branch-color)) brightness(1.5);animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{filter:drop-shadow(0 0 12px var(--branch-color)) brightness(1.5)}to{filter:drop-shadow(0 0 20px var(--branch-color)) brightness(2)}}.skill-node.available[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]{transform:translateY(-3px);box-shadow:0 0 30px var(--branch-color)}.skill-node.available[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:before{opacity:.6}.skill-node.available[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:after{opacity:.8;filter:blur(4px)}.skill-node.available[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.15);animation:_ngcontent-%COMP%_glowHover 1s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glowHover{0%{filter:drop-shadow(0 0 15px var(--branch-color)) brightness(1.8)}to{filter:drop-shadow(0 0 25px var(--branch-color)) brightness(2.2)}}.skill-node.purchased[_ngcontent-%COMP%]{opacity:1;filter:grayscale(0) brightness(1.3)}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{background:#0009;box-shadow:0 0 20px var(--branch-color)}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:before{opacity:.4;animation:_ngcontent-%COMP%_shimmer 3s linear infinite}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:after{opacity:.5;filter:blur(3px)}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;opacity:1;filter:drop-shadow(0 0 6px var(--branch-color)) brightness(1.2)}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]{transform:translateY(-3px);background:#000000b3;box-shadow:0 0 25px var(--branch-color)}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:before{opacity:.5}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:after{opacity:.6;filter:blur(4px)}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.15);filter:drop-shadow(0 0 10px var(--branch-color)) brightness(1.4)}@keyframes _ngcontent-%COMP%_shimmer{0%{opacity:.3;filter:brightness(1)}50%{opacity:.6;filter:brightness(1.3)}to{opacity:.3;filter:brightness(1)}}.node-connections[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:0}.connection-line[_ngcontent-%COMP%]{position:absolute;width:4px;height:3rem;background:#ffffff1a;left:50%;bottom:100%;transform:translate(-50%);transition:all .3s ease}.connection-line.active[_ngcontent-%COMP%]{background:var(--branch-color);box-shadow:0 0 10px var(--branch-color)}.skill-icon[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:#0a0d12f2;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.skill-node[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]{transform:translateY(-2px)}.skill-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:1px;background:linear-gradient(45deg,transparent 0%,var(--branch-color) 45%,var(--branch-color) 55%,transparent 100%);opacity:.05;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);transition:all .3s ease}.skill-node[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:before{opacity:.15;filter:blur(2px)}.skill-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,transparent,var(--branch-color));opacity:.1;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);filter:blur(4px);transition:all .3s ease}.skill-node[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:after{opacity:.2;filter:blur(3px)}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{background:#0009}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]{transform:translateY(-2px);background:#000000b3}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:before{opacity:.3;animation:_ngcontent-%COMP%_shimmer 3s linear infinite}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:before{opacity:.4}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]:after{opacity:.4}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]:after{opacity:.5;filter:blur(2px)}.skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--branch-color);font-size:1.5rem;transition:all .3s ease;z-index:2;opacity:.8;filter:drop-shadow(0 0 2px var(--branch-color))}.skill-node[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.1);opacity:1;filter:drop-shadow(0 0 4px var(--branch-color))}.skill-node.purchased[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;opacity:1;filter:drop-shadow(0 0 4px var(--branch-color))}.skill-node.purchased[_ngcontent-%COMP%]:hover   .skill-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.1);filter:drop-shadow(0 0 6px var(--branch-color))}@keyframes _ngcontent-%COMP%_shimmer{0%{opacity:.2}50%{opacity:.4}to{opacity:.2}}.skill-tooltip[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(100% + 20px);transform:translateY(-50%);background:#000000f2;border:1px solid var(--branch-color);box-shadow:0 0 20px #00000080;border-radius:8px;padding:1.5rem;width:350px;pointer-events:none;opacity:0;transition:opacity .2s ease;z-index:1001;visibility:hidden}.skill-branch[_ngcontent-%COMP%]:last-child   .skill-node[_ngcontent-%COMP%]   .skill-tooltip[_ngcontent-%COMP%]{left:auto;right:calc(100% + 20px)}.skill-node[_ngcontent-%COMP%]:hover   .skill-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}.tooltip-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;border-bottom:1px solid rgba(var(--branch-color),.3);padding-bottom:1rem}.tooltip-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--branch-color);margin:0 0 .75rem;font-size:1.3rem;font-weight:600;text-shadow:0 0 10px var(--branch-color);letter-spacing:1px}.tooltip-cost[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#f44;font-size:1rem;transition:all .3s ease;padding:.5rem;background:#ff44441a;border-radius:4px;border:1px solid rgba(255,68,68,.2)}.tooltip-cost.affordable[_ngcontent-%COMP%]{color:gold;background:#ffd7001a;border:1px solid rgba(255,215,0,.2)}.tooltip-description[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin-bottom:1.5rem;line-height:1.6;padding:.5rem;background:#ffffff0d;border-radius:4px}.tooltip-effects[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:rgba(var(--branch-color),.1);border-radius:4px;border:1px solid rgba(var(--branch-color),.2)}.effect[_ngcontent-%COMP%]{color:var(--branch-color);font-size:1rem;margin-bottom:.5rem;display:flex;align-items:center;gap:.5rem}.effect[_ngcontent-%COMP%]:before{content:"\\2726";color:var(--branch-color);font-size:1.2rem}.tooltip-requirements[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding-top:1rem;margin-top:1rem}.tooltip-requirements[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fffc;font-size:1rem;margin:0 0 1rem;display:flex;align-items:center;gap:.5rem}.tooltip-requirements[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:before{content:"!";display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background:#ffffff1a;border-radius:50%;font-size:.8rem}.tooltip-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}.tooltip-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff9;font-size:.95rem;position:relative;padding:.5rem .5rem .5rem 1.5rem;background:#ffffff0d;border-radius:4px;transition:all .3s ease}.tooltip-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\d7";position:absolute;left:.5rem;color:#f44;font-weight:700}.tooltip-requirements[_ngcontent-%COMP%]   li.met[_ngcontent-%COMP%]{color:var(--branch-color);background:rgba(var(--branch-color),.1)}.tooltip-requirements[_ngcontent-%COMP%]   li.met[_ngcontent-%COMP%]:before{content:"\\2713";color:#4facfe}@keyframes _ngcontent-%COMP%_scan{0%{transform:translateY(-75%) rotate(45deg)}to{transform:translateY(75%) rotate(45deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);box-shadow:0 0 rgba(var(--branch-color),.7)}70%{transform:scale(1.05);box-shadow:0 0 0 10px rgba(var(--branch-color),0)}to{transform:scale(1);box-shadow:0 0 rgba(var(--branch-color),0)}}.skill-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.node-connections[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{position:absolute;right:-8px;bottom:-8px;color:#4eff4e;background:#000000e6;border:2px solid #4eff4e;border-radius:50%;padding:4px;font-size:.9rem;z-index:10;box-shadow:0 0 10px #4eff4e,inset 0 0 5px #4eff4e;animation:_ngcontent-%COMP%_tickerGlow 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_tickerGlow{0%{box-shadow:0 0 10px #4eff4e,inset 0 0 5px #4eff4e}50%{box-shadow:0 0 15px #4eff4e,inset 0 0 8px #4eff4e}to{box-shadow:0 0 10px #4eff4e,inset 0 0 5px #4eff4e}}.skill-check[_ngcontent-%COMP%]{position:absolute;right:-8px;bottom:-4px;color:#4eff4e;background:#000000e6;border:2px solid #4eff4e;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;z-index:200;box-shadow:0 0 10px #4eff4e,inset 0 0 5px #4eff4e;animation:_ngcontent-%COMP%_tickerGlow 2s infinite ease-in-out}.skill-check[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}']})};var Ie=(i,t)=>t.label;function ze(i,t){i&1&&(r(0,"span",11),l(1,"MAX"),a())}function Ge(i,t){if(i&1&&(r(0,"span",12),l(1),v(2,"number"),a()),i&2){let e=p();s(),_("-",y(2,1,100-e.tickRate/2e3*100,"1.0-0"),"%")}}function $e(i,t){i&1&&(r(0,"span",21),l(1,"(Max)"),a())}function je(i,t){if(i&1&&(r(0,"div",23)(1,"div",14)(2,"div",15),m(3,"div",16),a()(),r(4,"div",24),l(5),a()()),i&2){let e=p(2);s(2),q("width",e.getKnowledgeProgress(),"%"),s(3),_(" ",e.getTimeToNextKnowledge()," ")}}function Ae(i,t){if(i&1&&(r(0,"div",17)(1,"div",2)(2,"span",3),l(3),v(4,"number"),h(5,$e,2,0,"span",21),a(),r(6,"div",4),m(7,"i",22),r(8,"span"),l(9,"Savoir Temporel"),a()(),h(10,je,6,3,"div",23),a()()),i&2){let e=p();s(3),_(" ",y(4,3,e.resources.temporalKnowledge,"1.2-2")," "),s(2),f(e.resources.temporalKnowledge>=5?5:-1),s(5),f(e.resources.temporalKnowledge<5?10:-1)}}function Ne(i,t){if(i&1&&(r(0,"div",34),m(1,"i",35),r(2,"div",28)(3,"div",29),l(4),a(),r(5,"div",30),l(6),a()()()),i&2){let e=t.$implicit;ne("title","Bonus actif: "+e.label),s(4),x(e.label),s(2),x(e.value)}}function Ve(i,t){if(i&1&&(m(0,"div",33),S(1,Ne,7,3,"div",34,Ie)),i&2){let e=p(2);s(),w(e.getActiveBoosts())}}function Ke(i,t){if(i&1&&(r(0,"div",18)(1,"div",25)(2,"div",26),m(3,"i",27),r(4,"div",28)(5,"div",29),l(6,"Production"),a(),r(7,"div",30),l(8),v(9,"number"),a()()(),r(10,"div",31),m(11,"i",32),r(12,"div",28)(13,"div",29),l(14,"Gain/min"),a(),r(15,"div",30),l(16),v(17,"number"),a()()(),h(18,Ve,3,0),a()()),i&2){let e=p();s(8),_(" ",y(9,3,e.productionPerTick*(1e3/e.tickRate),"1.1-1"),"/s "),s(8),_(" ",y(17,6,e.getGainPerMinute(),"1.1-1")," "),s(2),f(e.getActiveBoosts().length>0?18:-1)}}function Le(i,t){if(i&1){let e=B();r(0,"app-skill-tree",36),b("closeModal",function(){M(e);let o=p();return O(o.hideSkillTree())}),a()}}var J=class i{constructor(t,e,n){this.gameService=t;this.cdr=e;this.ngZone=n;this.tickRate=this.gameService.getCurrentTickRate()}resources={timeFragments:0,temporalKnowledge:0,prestigePoints:0};productionPerSecond=0;productionPerTick=0;tickRate=0;tickProgress=0;subscription;lastTick=Date.now();animationFrame;tickRateSubscription;isSkillTreeVisible=!1;ngOnInit(){this.subscription=this.gameService.gameState$.subscribe(t=>{this.resources=t.resources,this.productionPerSecond=this.gameService.getCurrentProduction(),this.productionPerTick=this.gameService.getProductionPerTick(),this.cdr.markForCheck()}),this.tickRateSubscription=this.gameService.tickRate$.subscribe(t=>{this.tickRate=t,this.lastTick=Date.now(),this.tickProgress=0,this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{let t=()=>{let e=Date.now(),n=e-this.lastTick;this.tickProgress=n/this.tickRate*100,this.tickProgress>=100&&(this.lastTick=e,this.tickProgress=0),this.ngZone.run(()=>{this.cdr.detectChanges()}),this.animationFrame=requestAnimationFrame(t)};this.animationFrame=requestAnimationFrame(t)})}ngOnDestroy(){this.subscription?.unsubscribe(),this.tickRateSubscription?.unsubscribe(),this.animationFrame&&cancelAnimationFrame(this.animationFrame)}hasBuildingUnlocked(t){return this.gameService.getBuildingDefinition(t)?.unlocked||!1}getTemporalKnowledgePerTick(){let t=K.temporal_echo_temple,e=this.gameService.getBuildingAmount("temporal_echo_temple");if(!t||!e)return 0;let n=this.gameService.getCurrentEffects(),o=Math.floor(this.resources.temporalKnowledge),c=Math.pow(5,o);return t.baseProduction*e*n.knowledgeGainMultiplier/c}getKnowledgeProgress(){let t=this.resources.temporalKnowledge,e=Math.floor(t);return(t-e)*100}getTimeToNextKnowledge(){let t=this.resources.temporalKnowledge,e=Math.floor(t),n=t-e,o=K.temporal_echo_temple,c=this.gameService.getBuildingAmount("temporal_echo_temple");if(!o||!c)return"";let d=Math.pow(5,e),g=o.baseProduction*c/d,k=(1-n)/g;return k>3600?`${Math.ceil(k/3600)}h`:k>60?`${Math.ceil(k/60)}m`:`${Math.ceil(k)}s`}showSkillTree(){this.isSkillTreeVisible=!0}hideSkillTree(){this.isSkillTreeVisible=!1}hasTemporalInsight(){return this.gameService.getGameState().skills.temporal_insight?.purchased??!1}getOptimalProduction(){let t=this.productionPerTick*(1e3/this.tickRate),e=this.gameService.getCurrentEffects();return t*(1+e.globalProductionBoost)}getOptimalCycleTime(){let t=this.resources.temporalKnowledge;if(t>=5)return"Pr\xEAt pour le cycle";let e=5-t,n=this.getTemporalKnowledgePerTick()*(1e3/this.tickRate);if(n<=0)return"Temple requis";let o=e/n,c=Math.floor(o/60),d=Math.floor(o%60);return`${c}m ${d}s`}getEfficiencyPercentage(){let t=this.gameService.getCurrentEffects(),e=t.globalProductionBoost+t.knowledgeGainMultiplier,n=this.productionPerTick*(1e3/this.tickRate)/this.getOptimalProduction();return Math.round(n*100)}getTimeToNextBuilding(){let t=this.gameService.getAllBuildings(),e=1/0,n=null;for(let g of t){let E=this.gameService.getBuildingCost(g.id);E>this.resources.timeFragments&&E<e&&(e=E,n=g)}if(!n)return"Tous d\xE9bloqu\xE9s";let o=e-this.resources.timeFragments,c=this.productionPerTick*(1e3/this.tickRate);if(c<=0)return"\u221E";let d=Math.ceil(o/c);return d>3600?`${Math.floor(d/3600)}h${Math.floor(d%3600/60)}m`:d>60?`${Math.floor(d/60)}m${d%60}s`:`${d}s`}getEstimatedPrestigePoints(){let t=this.gameService.getCurrentEffects();return Math.ceil(this.resources.temporalKnowledge*t.prestigeGainMultiplier)}getGainPerMinute(){return this.productionPerTick*(1e3/this.tickRate)*60}getActiveBoosts(){let t=this.gameService.getCurrentEffects(),e=[];return t.tickRateMultiplier<1&&e.push({label:"R\xE9duction tick",value:`-${((1-t.tickRateMultiplier)*100).toFixed(1)}%`}),t.resourceMultiplier>1&&e.push({label:"Multiplicateur",value:`\xD7${t.resourceMultiplier.toFixed(1)}`}),Object.entries(t.buildingMultipliers).forEach(([n,o])=>{if(o>1){let c=K[n];e.push({label:`Bonus ${c.name}`,value:`\xD7${o.toFixed(1)}`})}}),t.globalCostReduction<1&&e.push({label:"R\xE9duction co\xFBts",value:`-${((1-t.globalCostReduction)*100).toFixed(1)}%`}),e}static \u0275fac=function(e){return new(e||i)(u(T),u(fe),u(pe))};static \u0275cmp=C({type:i,selectors:[["app-resource-display"]],decls:37,vars:22,consts:[[1,"resource-panel"],[1,"main-display"],[1,"counter-section"],[1,"amount"],[1,"label"],[1,"fas","fa-clock","pulse"],[1,"stats-section"],[1,"stat-row"],[1,"stat-value"],[1,"fas","fa-industry"],[1,"fas","fa-bolt"],[1,"boost","max"],[1,"boost"],[1,"progress-section"],[1,"progress-track"],[1,"progress-fill"],[1,"glow"],[1,"stats-section","temporal-knowledge"],[1,"stats-section","temporal-insight"],[1,"prestige-points",2,"cursor","pointer",3,"click","title"],[1,"fas","fa-star"],[1,"max-indicator"],[1,"fas","fa-brain"],[1,"knowledge-progress"],[1,"time-estimate"],[1,"insight-grid"],["title","Production par seconde",1,"insight-item"],[1,"fas","fa-chart-line"],[1,"insight-content"],[1,"insight-label"],[1,"insight-value"],["title","Gain par minute",1,"insight-item"],[1,"fas","fa-arrow-trend-up"],[1,"insight-separator"],[1,"insight-item",3,"title"],[1,"fas","fa-star-half-alt"],[3,"closeModal"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),l(4),v(5,"numberFormat"),a(),r(6,"div",4),m(7,"i",5),r(8,"span"),l(9,"Fragments de temps"),a()()()(),r(10,"div",6)(11,"div",7)(12,"div",8),m(13,"i",9),r(14,"span"),l(15),v(16,"number"),a()()(),r(17,"div",7)(18,"div",8),m(19,"i",10),r(20,"span"),l(21),v(22,"number"),a(),h(23,ze,2,0,"span",11)(24,Ge,3,4,"span",12),a()()(),r(25,"div",13)(26,"div",14)(27,"div",15),m(28,"div",16),a()()(),h(29,Ae,11,6,"div",17)(30,Ke,19,9,"div",18),r(31,"div",19),b("click",function(){return n.showSkillTree()}),m(32,"i",20),r(33,"span"),l(34),v(35,"number"),a()(),h(36,Le,1,0,"app-skill-tree"),a()),e&2&&(s(4),x(D(5,11,n.resources.timeFragments)),s(11),_("+",y(16,13,n.productionPerTick,"1.1-1"),"/tick"),s(6),_("",y(22,16,n.tickRate/1e3,"1.1-1"),"s"),s(2),f(n.tickRate<=500?23:n.tickRate<2e3?24:-1),s(4),q("width",n.tickProgress,"%"),s(2),f(n.resources.temporalKnowledge>0||n.hasBuildingUnlocked("temporal_echo_temple")?29:-1),s(),f(n.hasTemporalInsight()?30:-1),s(),ne("title","Vous avez "+n.resources.prestigePoints+" points de prestige non utilis\xE9s"),s(3),x(y(35,19,n.resources.prestigePoints,"1.0-0")),s(2),f(n.isSkillTreeVisible?36:-1))},dependencies:[P,A,H,Q],styles:['.resource-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0d1117f2,#1e4bd226);border:1px solid rgba(79,172,254,.3);border-radius:8px;padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;position:relative;overflow:hidden}.resource-panel[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,#4facfe,transparent)}.counter-section[_ngcontent-%COMP%]{text-align:center;padding:.5rem}.amount[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;color:#4facfe;text-shadow:0 0 15px rgba(79,172,254,.5);letter-spacing:1px;display:block;margin-bottom:.5rem}.label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#a8b2c1;font-size:.9rem}.label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4facfe}.stats-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:.75rem;background:#0d111766;border-radius:6px;border:1px solid rgba(79,172,254,.2)}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:center}.stat-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#4facfe;font-size:1rem}.stat-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.progress-section[_ngcontent-%COMP%]{padding:0 .5rem}.progress-track[_ngcontent-%COMP%]{height:6px;background:#0d111799;border-radius:3px;overflow:hidden;position:relative;box-shadow:inset 0 0 10px #00000080;border:1px solid rgba(79,172,254,.2)}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4facfe,#00f2fe,#4facfe);position:relative;transition:width 0s linear;box-shadow:0 0 15px #4facfe80}.progress-fill[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.2) 50%,transparent 100%);animation:_ngcontent-%COMP%_shine 2s linear infinite}.progress-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:20px;height:100%;background:linear-gradient(90deg,transparent,rgba(79,172,254,.8));filter:blur(3px)}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%)}to{transform:translate(100%)}}.glow[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;width:20px;background:linear-gradient(90deg,transparent,rgba(79,172,254,.8));filter:blur(2px)}.tick-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#4facfe;font-size:.9rem;text-shadow:0 0 10px rgba(79,172,254,.3)}.tick-time[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f2fe;filter:drop-shadow(0 0 5px rgba(0,242,254,.5))}.boost[_ngcontent-%COMP%]{color:#00f2fe;font-size:.8em;padding:.2em .4em;background:#00f2fe1a;border-radius:3px;border:1px solid rgba(0,242,254,.2);box-shadow:0 0 10px #00f2fe33}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.temporal-knowledge[_ngcontent-%COMP%]{margin-top:1rem;background:#9333ea26;border:1px solid rgba(147,51,234,.3);padding:.75rem;border-radius:6px}.temporal-knowledge[_ngcontent-%COMP%]   .counter-section[_ngcontent-%COMP%]{text-align:center}.temporal-knowledge[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#9333ea;text-shadow:0 0 15px rgba(147,51,234,.3);display:block;margin-bottom:.5rem}.temporal-knowledge[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#c084fc;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.temporal-knowledge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9333ea;font-size:1rem;filter:drop-shadow(0 0 5px rgba(147,51,234,.5))}.temporal-knowledge[_ngcontent-%COMP%]   .max-indicator[_ngcontent-%COMP%]{font-size:.9rem;color:#c084fc;margin-left:.5rem}.knowledge-progress[_ngcontent-%COMP%]{width:100%;margin-top:.75rem}.knowledge-progress[_ngcontent-%COMP%]   .progress-track[_ngcontent-%COMP%]{width:100%;height:4px;background:#9333ea33;border-radius:2px;overflow:hidden;position:relative}.knowledge-progress[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#9333ea;position:relative;transition:width .2s ease}.knowledge-progress[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3));filter:blur(2px)}.time-estimate[_ngcontent-%COMP%]{font-size:.8rem;color:#c084fc;text-align:center;margin-top:.25rem;opacity:.8}.prestige-points[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;display:flex;align-items:center;gap:.4rem;font-size:.9rem;color:#4ade80;text-shadow:0 0 10px rgba(74,222,128,.5);font-family:"Exo 2",sans-serif;letter-spacing:.5px;padding:.3rem .6rem;background:#4ade801a;border:1px solid rgba(74,222,128,.2);border-radius:4px;cursor:help}.prestige-points[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;color:#4ade80;filter:drop-shadow(0 0 5px rgba(74,222,128,.5))}.temporal-insight[_ngcontent-%COMP%]{background:#0d1117cc!important;border:1px solid rgba(255,215,0,.2)!important;padding:.4rem!important;margin:0}.insight-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:100%}.insight-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:gold;background:#ffd7000d;padding:.25rem .5rem;border-radius:3px;border:1px solid rgba(255,215,0,.1)}.insight-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;opacity:.7;color:gold;width:12px}.insight-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1}.insight-label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8;color:gold}.insight-value[_ngcontent-%COMP%]{font-size:.75rem;color:gold;font-family:"Exo 2",sans-serif;letter-spacing:.2px}.insight-separator[_ngcontent-%COMP%]{height:1px;background:#ffd7001a;margin:.25rem 0}.insight-item[_ngcontent-%COMP%]   i.fa-star-half-alt[_ngcontent-%COMP%]{color:gold;opacity:.9}.boost.max[_ngcontent-%COMP%]{color:#ff4e4e;background:#ff4e4e1a;border:1px solid rgba(255,78,78,.2);box-shadow:0 0 10px #ff4e4e33}'],changeDetection:0})};var Ye=(i,t)=>t.id;function Ue(i,t){if(i&1){let e=B();r(0,"div",2),b("click",function(){let o=M(e).$implicit,c=p();return O(c.remove(o.id))}),r(1,"span",3),l(2),a(),r(3,"button",4),b("click",function(){let o=M(e).$implicit,c=p();return O(c.remove(o.id))}),l(4," \xD7 "),a()()}if(i&2){let e=t.$implicit;$(e.type),s(2),x(e.message)}}var X=class i{constructor(t){this.notificationService=t}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(t=>{this.notifications=t})}ngOnDestroy(){this.subscription?.unsubscribe()}remove(t){this.notificationService.remove(t)}static \u0275fac=function(e){return new(e||i)(u(V))};static \u0275cmp=C({type:i,selectors:[["app-notifications"]],decls:3,vars:0,consts:[[1,"notifications-container"],[1,"notification",3,"class"],[1,"notification",3,"click"],[1,"message"],[1,"close-button",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0),S(1,Ue,5,3,"div",1,Ye),a()),e&2&&(s(),w(n.notifications))},dependencies:[P],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:1000;display:flex;flex-direction:column;gap:.5rem;max-width:300px}.notification[_ngcontent-%COMP%]{padding:1rem;border-radius:4px;background:#fff;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.message[_ngcontent-%COMP%]{margin-right:1rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:0;color:inherit;opacity:.7}.close-button[_ngcontent-%COMP%]:hover{opacity:1}.success[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.info[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.warning[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.error[_ngcontent-%COMP%]{background:#f44336;color:#fff}"]})};function He(i,t){if(i&1){let e=B();r(0,"button",5),b("click",function(){M(e);let o=p(3);return O(o.dialogService.close(!1))}),l(1),a()}if(i&2){let e=p(2);s(),_(" ",e.config==null?null:e.config.cancelText," ")}}function Ze(i,t){if(i&1){let e=B();r(0,"div",0)(1,"div",1)(2,"h2"),l(3),a(),r(4,"p"),l(5),a(),r(6,"div",2),h(7,He,2,1,"button",3),r(8,"button",4),b("click",function(){M(e);let o=p(2);return O(o.dialogService.close(!0))}),l(9),a()()()()}if(i&2){let e=p();s(),$(e.config==null?null:e.config.type),s(2),x(e.config==null?null:e.config.title),s(2),x(e.config==null?null:e.config.message),s(2),f(e.config!=null&&e.config.cancelText?7:-1),s(2),_(" ",e.config==null?null:e.config.confirmText," ")}}function Qe(i,t){i&1&&h(0,Ze,10,6,"div",0),i&2&&f(t.isOpen?0:-1)}var W=class i{constructor(t){this.dialogService=t}static \u0275fac=function(e){return new(e||i)(u(L))};static \u0275cmp=C({type:i,selectors:[["app-confirmation-dialog"]],decls:2,vars:3,consts:[[1,"dialog-overlay"],[1,"dialog-container"],[1,"button-group"],[1,"cancel"],[1,"confirm",3,"click"],[1,"cancel",3,"click"]],template:function(e,n){if(e&1&&(h(0,Qe,1,1),v(1,"async")),e&2){let o;f((o=D(1,1,n.dialogService.dialog$))?0:-1,o)}},dependencies:[P,j],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.dialog-container[_ngcontent-%COMP%]{background:#1b1f24;border-radius:8px;padding:2rem;max-width:400px;width:90%;border:1px solid rgba(239,68,68,.2);box-shadow:0 0 30px #ef44441a;animation:_ngcontent-%COMP%_slideIn .3s ease}.warning[_ngcontent-%COMP%]{border-color:#ef44444d}h2[_ngcontent-%COMP%]{color:#ef4444;margin-bottom:1rem;font-size:1.5rem}p[_ngcontent-%COMP%]{color:#a8b7c5;margin-bottom:2rem;line-height:1.6}.button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;margin-top:2rem;background:none;border:none}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:6px;border:none;font-weight:500;cursor:pointer;transition:all .2s;font-size:.9rem;min-width:120px;text-transform:uppercase;letter-spacing:.5px}.cancel[_ngcontent-%COMP%]{background:#2d333b;color:#a8b7c5;border:1px solid rgba(255,255,255,.1)}.confirm[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:1px solid rgba(239,68,68,.3);box-shadow:0 0 15px #ef444426}.cancel[_ngcontent-%COMP%]:hover{background:#353b44;border-color:#ffffff26}.confirm[_ngcontent-%COMP%]:hover{background:#dc2626;border-color:#ef444466;box-shadow:0 0 20px #ef444433}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};var ee=class i{constructor(t){this.gameService=t}static \u0275fac=function(e){return new(e||i)(u(T))};static \u0275cmp=C({type:i,selectors:[["app-root"]],decls:10,vars:0,consts:[[1,"app-layout"],[1,"side-panel"],[1,"logo-container"],["src","assets/images/logo.png","alt","Chronocity",1,"game-logo"],[1,"main-content"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"aside",1)(2,"div",2),m(3,"img",3),a(),m(4,"app-resource-display")(5,"app-game-menu"),a(),r(6,"main",4),m(7,"router-outlet"),a()(),m(8,"app-notifications")(9,"app-confirmation-dialog"))},dependencies:[P,ue,N,Y,J,X,W],styles:[".app-layout[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-columns:300px 1fr;background:#1b1f24}.side-panel[_ngcontent-%COMP%]{background:#161b22cc;padding:1rem;display:flex;flex-direction:column;gap:1rem;border-right:1px solid rgba(255,255,255,.1)}h1[_ngcontent-%COMP%]{color:#4facfe;margin:0;font-size:2rem;text-align:center}.main-content[_ngcontent-%COMP%]{padding:1rem;overflow-y:auto}.logo-container[_ngcontent-%COMP%]{padding:0;text-align:center}.game-logo[_ngcontent-%COMP%]{max-width:200px;height:auto;filter:drop-shadow(0 0 10px rgba(79,172,254,.3));transition:filter .3s ease;max-height:150px}.game-logo[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 15px rgba(79,172,254,.5))}"]})};var ve=[{path:"",redirectTo:"chronocity",pathMatch:"full"},{path:"chronocity",loadChildren:()=>import("./chunk-5IYXXMLB.js").then(i=>i.GameplayModule)},{path:"**",redirectTo:"buildings"}];var ke={providers:[he(ve)]};ge(ee,ke).catch(i=>console.error(i));
